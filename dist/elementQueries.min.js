!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("elementQueries",["resizeSensor"],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.elementQueries=e()}}(function(){return function e(t,r,n){function i(u,s){if(!r[u]){if(!t[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var d=r[u]={exports:{}};t[u][0].call(d.exports,function(e){var r=t[u][1][e];return i(r?r:e)},d,d.exports,e,t,r,n)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,t){var r=function(t){"use strict";function r(e){var r=t.document.querySelector(a(e));return r?void i([r]):void(console&&console.info("No valid element found for given selector. Exiting.",a(e)))}function n(e){var r=t.document.querySelectorAll(a(e,!0));return 0===r.length?void(console&&console.info("No valid elements found for given selector. Exiting.",a(e,!0))):void i(r)}function i(e){var t,r=e.length;for(t=0;r>t;t++){var n=e[t],i=n.id;if(i&&null!==m.get(i))console&&console.info("A `ElementQueryElement` for given elementId already exists. If you need to reset it, destroy existing one first.",i);else{var o=m.add(n);d.create(n,l(o)),o.initialize()}}}function o(e){var r=t.document.querySelectorAll(a(e,!0)),n=r.length;0===n&&console&&console.info("No elements found for given selector. Exiting.",e,selector),s(r)}function u(e){var r=t.document.querySelector(a(e));return r?void s([r]):void(console&&console.info("No valid element found for given selector. Exiting."))}function s(e){var t,r=e.length;for(t=0;r>t;t++){var n=e[t],i=n.id,o=m.get(i);o?(m.remove(o),o.destroy(),d.destroy(n)):console&&console.info("Can't destroy `ElementQueryElement` (404 not found).",n)}}function l(e){return function(t){0!==e.queryCount&&e.doQueries(t)}}function a(e,t){return t?"#"+e+" ["+h+"]":"#"+e+"["+h+"]"}var d=null;try{d="resizeSensor"in t?t.resizeSensor:t.require("resizeSensor")}catch(f){}if(null===d){var c=function(){console&&console.error("EQ's depend on a resize detector. Provide a detector and try again.")};return{initializeSingle:c,initializeMultiple:c,destroySingle:c,destroyMultiple:c}}var h="data-element-queries",m=e("./registry");return{initializeSingle:r,initializeMultiple:n,destroySingle:u,destroyMultiple:o}}("undefined"!=typeof window?window:this);t.exports=r},{"./registry":4}],2:[function(e,t){var r=function(){"use strict";function t(e){var t=/(min|max)-(width|height)\s*:\s*(\d+px)/gim,r=t.exec(e);return r?{mode:r[1],property:r[2],value:r[3].toLowerCase()}:!1}var r=e("./elementQueryFactory"),n=function(e){this.targetElement=e,this.allQueries=[],this.queryCount=0,this.addClassNameAfterInit=!1,this.classNameToAdd=""};return n.prototype.initialize=function(){var e=this.getValueOfDataAttribute();return e.queries&&"length"in e.queries?(e.config&&this.setConfig(e.config),this.addElementQueries(e.queries),this.doQueries({width:this.targetElement.offsetWidth,height:this.targetElement.offsetHeight}),void(this.addClassNameAfterInit&&(this.targetElement.className+=" "+this.classNameToAdd))):void(console&&console.log("error","No element queries found. Exiting."))},n.prototype.setConfig=function(e){"classNameToAddAfterInit"in e&&""!==e.classNameToAddAfterInit&&(this.addClassNameAfterInit=!0,this.classNameToAdd=e.classNameToAddAfterInit)},n.prototype.addElementQueries=function(e){var n,i=e.length;for(n=0;i>n;n++){var o=e[n],u=t(o);if(u){var s=r.create(u.mode,u.property,u.value);this.allQueries.push(s),this.queryCount++}else console&&console.error("Skipped element query as the query seems to be malformed.",o)}},n.prototype.doQueries=function(e){var t=this.getAttributeValues(e);this.writeAttributes(t)},n.prototype.getAttributeValues=function(e){var t,r={};for(t=0;t<this.queryCount;t++){var n=this.allQueries[t];if(n.isMatchFor(e)){var i=n.getAttributeName(),o=n.getPxValue();r[i]?-1===r[i].indexOf(o)&&(r[i]+=" "+o):r[i]=o}}return r},n.prototype.writeAttributes=function(e){var t,r=["min-width","min-height","max-width","max-height"],n=r.length;for(t=0;n>t;t++)e[r[t]]?this.targetElement.setAttribute(r[t],e[r[t]]):this.targetElement.removeAttribute(r[t])},n.prototype.destroy=function(){delete this.targetElement,delete this.allQueries,delete this.queryCount},n.prototype.getValueOfDataAttribute=function(){var e=JSON.parse(this.targetElement.getAttribute("data-element-queries"));return e?e:(console&&console.error("No configuration found for given element. Config is passed via the `data-element-queries` attribute. Exiting.",this.targetElement),null)},n.prototype.getId=function(){return this.targetElement.id},{create:function(e){return new n(e)}}}();t.exports=r},{"./elementQueryFactory":3}],3:[function(e,t){var r=function(){"use strict";var e=function(e,t,r){if("min"!==e&&"max"!==e)throw new Error("Invalid mode (should be either `min` or `max`. Exiting.");if("width"!==t&&"height"!==t)throw new Error("Invalid property (should be either `width` or `height`). Exiting.");if(isNaN(parseFloat(r)))throw new Error("Invalid value (should be numeric). Exiting.");this.mode=e,this.property=t,this.value=parseFloat(r),this.pxValue=r};return e.prototype.getMode=function(){return this.mode},e.prototype.getProperty=function(){return this.property},e.prototype.getValue=function(){return this.value},e.prototype.getPxValue=function(){return this.pxValue},e.prototype.isMatchFor=function(e){return"min"===this.mode&&e[this.property]>=this.value?!0:"max"===this.mode&&e[this.property]<=this.value?!0:!1},e.prototype.getAttributeName=function(){return this.mode+"-"+this.property},{create:function(t,r,n){return new e(t,r,n)}}}();t.exports=r},{}],4:[function(e,t){var r=function(){"use strict";function t(e){var t=e.id;t||(t=o+ ++s,e.id=t)}function r(e){return u[e]?u[e]:null}function n(e){if(null===r(e.id)){t(e);var n=l.create(e);return u[n.getId()]=n,n}}function i(e){delete u[e.getId()]}var o="element-query-element-",u={},s=0,l=e("./elementQueryElementFactory");return{get:r,add:n,remove:i}}();t.exports=r},{"./elementQueryElementFactory":2}]},{},[1])(1)});